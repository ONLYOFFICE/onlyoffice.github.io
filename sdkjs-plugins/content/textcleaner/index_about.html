<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>About</title>
  <script type="text/javascript" src="https://onlyoffice.github.io/sdkjs-plugins/v1/plugins.js"></script>
  <script type="text/javascript" src="https://onlyoffice.github.io/sdkjs-plugins/v1/plugins-ui.js"></script>
  <link rel="stylesheet" href="https://onlyoffice.github.io/sdkjs-plugins/v1/plugins.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--background-normal);
      color: var(--text-normal);
    }
    .container {
      padding: 20px;
      max-width: 360px;
      margin: 0 auto;
      text-align: center;
    }
    .title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      color: var(--text-normal);
    }
    .version {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 15px;
    }
    .description {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.5;
      margin-bottom: 20px;
    }
    .copyright {
      font-size: 12px;
      color: var(--text-tertiary);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title" id="about-title">Text Cleaner</div>
    <div class="version" id="about-version">Version 1.0.0</div>
    <div class="description" id="about-description">
      This plugin helps you clean and format text in your document with various options. You can easily remove extra spaces, fix punctuation marks, and perform many other functions.
    </div>
    <div class="copyright" id="about-copyright">
      © 2025 ONLYOFFICE Plugin
    </div>
  </div>
  <script>
    const tr = key => {
      try {
        if (window.Asc && window.Asc.plugin && typeof window.Asc.plugin.tr === 'function') {
          const translation = window.Asc.plugin.tr(key);
          
          if (translation && translation !== key) {
            return translation;
          }
          
          return getEnglishFallback(key);
        }
      } catch (e) {
        console.log('Translation function failed, using fallback:', e);
      }
      
      return getEnglishFallback(key);
    };
    
    const getEnglishFallback = key => {
        const englishTranslations = {
            "AboutTitle": "Text Cleaner",
            "AboutVersion": "Version 1.0.0",
            "AboutDescription": "This plugin helps you clean and format text in your document with various options. You can easily remove extra spaces, fix punctuation marks, and perform many other functions.",
            "AboutCopyright": "© 2025 ONLYOFFICE Plugin"
        };
        
        return englishTranslations[key] || key;
    };

    function updateTexts() {
      const titleElement = document.getElementById('about-title');
      const versionElement = document.getElementById('about-version');
      const descriptionElement = document.getElementById('about-description');
      const copyrightElement = document.getElementById('about-copyright');

      if (titleElement) titleElement.textContent = tr('AboutTitle');
      if (versionElement) versionElement.textContent = tr('AboutVersion');
      if (descriptionElement) descriptionElement.textContent = tr('AboutDescription');
      if (copyrightElement) copyrightElement.textContent = tr('AboutCopyright');
    }

    window.Asc.plugin.init = function() {
      updateTexts();
    };

    window.Asc.plugin.onTranslate = function() {
      updateTexts();
    };

    window.Asc.plugin.button = function(id) {
      if (id === 0) {
        this.executeCommand("close", "");
      }
    };
  </script>
</body>
</html> 